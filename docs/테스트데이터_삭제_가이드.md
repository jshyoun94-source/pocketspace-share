# 테스트 데이터 삭제 가이드

심사 전용 Apple 계정으로 새로 시작하기 전, 기존 테스트 데이터를 모두 삭제하는 방법입니다.

---

## 삭제 대상

| 컬렉션 | 설명 |
|--------|------|
| `spaces` | 공간 등록 |
| `chats` | 채팅방 (서브컬렉션 `messages` 포함) |
| `neighborhoodRequests` | 동네부탁 |
| `communityPosts` | 동네생활 (서브컬렉션 `comments` 포함) |
| `transactions` | 거래 내역 |
| `users/{uid}/favorites` | 즐겨찾기 |

> **참고:** `users` 컬렉션은 삭제하지 않습니다. 사용자 계정은 유지됩니다.

---

## 실행 방법

```bash
cd functions
npm run deleteTestData
```

또는

```bash
cd functions
node scripts/deleteTestData.js
```

---

## 실행 전 확인

1. **Firebase 프로젝트 선택**
   ```bash
   firebase use
   ```
   또는
   ```bash
   firebase use <프로젝트ID>
   ```

2. **권한**
   - 로컬에서 실행 시 `firebase login` 된 계정 또는
   - `GOOGLE_APPLICATION_CREDENTIALS` 환경 변수로 서비스 계정 키 경로 지정

---

## 삭제 후 진행

1. Sign in with Apple으로 심사 전용 Apple ID로 로그인
2. 앱에서 채팅·동네생활·동네부탁·공간 등 필요한 콘텐츠 생성
3. App Store Connect에 데모 계정(해당 Apple ID) 안내
4. 심사 제출
